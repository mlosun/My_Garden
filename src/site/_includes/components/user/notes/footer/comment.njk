<div style="height: 100px;"></div>
<br>

<div id="twikoo" style="max-width: 800px; width: 100%; margin: 0 auto; box-sizing: border-box;"></div>

<script src="https://s4.zstatic.net/npm/twikoo@1.6.44/dist/twikoo.min.js"></script>
<script>
(function() {
  // 强制修复 Twikoo 样式
  function fixTwikooStyle() {
    const twikoo = document.querySelector('.twikoo');
    if (!twikoo) return false;
    
    // 强制设置容器样式
    twikoo.style.cssText = `
      max-width: 800px !important;
      width: 100% !important;
      margin: 0 auto !important;
      box-sizing: border-box !important;
      position: relative !important;
      left: 0 !important;
      right: 0 !important;
    `;
    
    // 限制所有子元素
    twikoo.querySelectorAll('*').forEach(function(el) {
      el.style.maxWidth = '100%';
      el.style.boxSizing = 'border-box';
      el.style.wordWrap = 'break-word';
      el.style.wordBreak = 'break-word';
    });
    
    // 特定元素修复
    twikoo.querySelectorAll('.tk-input, .tk-main, .tk-comments-container').forEach(function(el) {
      el.style.width = '100% !important';
      el.style.maxWidth = '100% !important';
    });
    
    return true;
  }
  
  // 初始化 Twikoo
  const container = document.getElementById('twikoo');
  if (container) {
    twikoo.init({
      envId: 'https://twikoo-mlosun.netlify.app',
      el: '#twikoo',
      lang: 'zh-CN',
      path: window.location.pathname
    });
    
    // 多次尝试修复样式（确保渲染完成后）
    setTimeout(fixTwikooStyle, 500);
    setTimeout(fixTwikooStyle, 1000);
    setTimeout(fixTwikooStyle, 2000);
  }
})();
</script>